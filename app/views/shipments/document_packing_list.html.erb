<center>
	<h3><strong><%= @shipment.uid %></strong></h3>
	<h3><%= @shipment.shipname %> <%= @shipment.voyage %></h3>
	<h5>
		<% if @shipment.actualdeparture.nil? %>
			(Not Yet Departed)
		<% else %>
			<%= @shipment.actualdeparture %>
		<% end %>
		 - 
		<% if @shipment.actualarrival.nil? %>
			(Not Yet Arrived)
		<% else %>
			<%= @shipment.actualarrival %>
		<% end %>
	</h5>
</center>

<br>
<br>

<% @containers.each do |container| %>
	<table class="table table-borderless">
		<tbody>
			<tr>
				<td>Container Number</td>
				<td>: <%= container.number %></td>
			</tr>
			<tr>
				<td>Seal Number</td>
				<td>: <%= container.sealnumber %></td>
			</tr>
		</tbody>
	</table>

	<br>

	<div class="container-fluid">
		<% @assignments = Assignment.where("container_id = ?", container.id) %>

		<% @assignments.each do |assignment| %>
			<table class="table">
				<tbody>
					<tr>
						<td style="width:20%">Customer</td>
						<td>: <strong><%= assignment.customer.name %></strong></td>
					</tr>
					<tr>
						<td style="width:20%">Assignment UID</td>
						<td>: <strong><%= assignment.uid %></strong></td>
					</tr>
				</tbody>
			</table>
			<table class="table" style="margin-top:-15px">
				<thead class="thead-dark">
					<th style="width:35%">Product</th>
					<th style="width:10%">Quantity</th>
					<th style="width:20%">Unit</th>
					<th style="width:35%">Pickup Agent</th>
				</thead>
				<tbody>
					<% @assignment_details = AssignmentDetail.where("assignment_id = ?", assignment.id) %>

					<% @assignment_details.each do |assignment_detail| %>
					<tr>
						<td><%= assignment_detail.customer_product.name %></td>
						<td><%= assignment_detail.quantity %></td>
						<td>
							<% if assignment_detail.unit == "UOM" %>
								<%= assignment_detail.customer_product.uom %>
							<% else %>
								<%= assignment_detail.unit %>
							<% end %>
						</td>
						<td><%= assignment_detail.assignment.agent.name %></td>
					</tr>
					<% end %>
				</tbody>
			</table>
			<br>
		<% end %>
	</div>
<% end %>

